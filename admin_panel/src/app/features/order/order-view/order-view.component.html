<div class="card form-card">
  <div class="card-header">
    <div class="card-header-items">
      <div>Order Details</div>
      <div>
        <button class="back-btn btn btn-primary" (click)="navigateTo('default/order/order-list')">
          <i class="ti ti-arrow-left me-1"></i> Back
        </button>
      </div>
    </div>
  </div>
  <div class="card-body justify-content-center">
    <div class="row px-3">
      <div class="col-6 border-bottom pb-3">
        <h6 class="mb-0">Order ID : {{ data?.orderNumber }}</h6>
      </div>
      <div class="col-6 border-bottom pb-3">
        <h6 class="mb-0">
          Customer Name :
          {{ data?.customer?.firstName + " " + data?.customer?.lastName }}
        </h6>
      </div>
      <div class="col-12 py-3">
        <h4 class="text-primary mb-0">Products</h4>
      </div>
      <div class="col-12 border-bottom py-3">
        <div class="row border-bottom py-2" *ngFor="let d of data.orderWithOrderVariantMap">
          <div class="col-6 d-flex">
            <img width="60" height="60" [src]="d.orderVariantMapWithVariant.variantImages[0].image" alt="" />
            <div class="prod-details ps-3">
              <p>{{ d.orderVariantMapWithVariant.sku }}</p>
              <p>
                {{ d.orderVariantMapWithVariant.price | currency: "INR" }} X
                {{ d.qty }}
              </p>
            </div>
          </div>
          <div class="col-6">
            <span>Product Properties:</span>
            <p *ngFor="
                let opt of d.orderVariantMapWithVariant
                  .variantWithAttrVariantMap
              ">
              <ng-container *ngIf="opt.AttrVariantMapWithAttributes.name == 'color'">
                {{opt.AttrVariantMapWithAttributes.name + ' | '}} <i [style.color]="opt.value"
                  class="fa-solid fa-square"></i>
              </ng-container>
              <ng-container *ngIf="opt.AttrVariantMapWithAttributes.name != 'color'">
                {{opt.AttrVariantMapWithAttributes.name + ' | ' + opt.value}}
              </ng-container>
              <!-- {{ opt.AttrVariantMapWithAttributes.name + " : " + opt.value }} -->
            </p>
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="row justify-content-between">
          <div class="col-5 border-bottom py-3">
            <h4 class="text-primary">Shipping Address</h4>
            <p>
              {{
              data?.address?.location +
              "," +
              data?.address?.city +
              "," +
              data?.address?.state +
              "," +
              data?.address?.country +
              "," +
              data?.address?.pinCode
              }}
            </p>
          </div>
          <div class="col-6 py-3">
            <form [formGroup]="orderForm">
              <h5 class="text-primary mb-3">Total Summary</h5>
              <div class="row pb-3 justify-content-between">
                <div class="col-4 d-flex align-items-center">Subtotal :</div>
                <div class="col-2 p-0 text-center">
                  {{ subtotal | currency: "INR" }}
                </div>
              </div>
              <div class="row pb-3 justify-content-between">
                <div class="col-4 d-flex align-items-center">Shipping fee:</div>
                <div class="col-2 p-0">
                  <input readonly class="w-100 border p-2 rounded" formControlName="shippingFee" type="number"
                    (input)="totalChange()" />
                </div>
              </div>
              <div class="row pb-3 border-bottom justify-content-between">
                <div class="col-4 d-flex align-items-center">Discount(%):</div>
                <div class="col-2 p-0">
                  <input class="w-100 border p-2 rounded" formControlName="discount" readonly type="number"
                    (input)="totalChange()" />
                </div>
              </div>
              <div class="row py-2 justify-content-between">
                <div class="col-4 d-flex align-items-center fw-bold">Total</div>
                <div class="col-2 p-0 text-center">
                  <input class="w-100 border-0 p-2 rounded" formControlName="total" readonly type="number" />
                </div>
              </div>
              <div class="row py-2">
                <div class="col-12">
                  <label class="form-label">
                    Status
                    <span class="text-danger">*</span></label>
                  <select formControlName="status" class="form-control">
                    <option [value]="OrderStatus.ACTIVE">{{OrderStatus.ACTIVE}}</option>
                    <option [value]="OrderStatus.ACCEPT">{{OrderStatus.ACCEPT}}</option>
                    <option [value]="OrderStatus.REJECTED">{{OrderStatus.REJECTED}}</option>
                    <option [value]="OrderStatus.DELIVERED">{{OrderStatus.DELIVERED}}</option>
                  </select>
                </div>
              </div>
              <div class="row py-2">
                <button class="back-btn btn btn-primary" (click)="submit()">
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>