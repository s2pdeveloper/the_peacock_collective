"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[232],{4495:(S,C,u)=>{u.d(C,{s:()=>F});var h=u(9862),t=u(3997),f=u(7398),v=u(8645),y=u(4552);class U extends v.x{constructor(c=1/0,s=1/0,r=y.l){super(),this._bufferSize=c,this._windowTime=s,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,c),this._windowTime=Math.max(1,s)}next(c){const{isStopped:s,_buffer:r,_infiniteTimeWindow:p,_timestampProvider:g,_windowTime:_}=this;s||(r.push(c),!p&&r.push(g.now()+_)),this._trimBuffer(),super.next(c)}_subscribe(c){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(c),{_infiniteTimeWindow:r,_buffer:p}=this,g=p.slice();for(let _=0;_<g.length&&!c.closed;_+=r?1:2)c.next(g[_]);return this._checkFinalizedStatuses(c),s}_trimBuffer(){const{_bufferSize:c,_timestampProvider:s,_buffer:r,_infiniteTimeWindow:p}=this,g=(p?1:2)*c;if(c<1/0&&g<r.length&&r.splice(0,r.length-g),!p){const _=s.now();let T=0;for(let A=1;A<r.length&&r[A]<=_;A+=2)T=A;T&&r.splice(0,T+1)}}}var x=u(3020);function Z(d,c,s){let r,p=!1;return d&&"object"==typeof d?({bufferSize:r=1/0,windowTime:c=1/0,refCount:p=!1,scheduler:s}=d):r=d??1/0,(0,x.B)({connector:()=>new U(r,c,s),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}var a=u(5879);let F=(()=>{class d{constructor(s){this.httpClient=s,this.options={headers:(new h.WM).set("Content-Type","application/json")}}private(){return`${location.protocol}//${location.hostname+(location.port?":"+location.port:"")}/`}get(s,r=new h.LE){return(0,t.x)(),this.httpClient.get(s,{params:r}).pipe((0,f.U)(p=>p.result),Z())}put(s,r={}){return(0,t.x)(),this.httpClient.put(s,r).pipe((0,f.U)(p=>p.result))}post(s,r={}){return(0,t.x)(),this.httpClient.post(s,r).pipe((0,f.U)(p=>p.result))}delete(s){return(0,t.x)(),this.httpClient.delete(s).pipe((0,f.U)(r=>r.result),Z())}getFile(s,r=new h.LE){return this.httpClient.get(s,{responseType:"blob",headers:(new h.WM).append("Content-Type","application/json")})}getIp(){return(0,t.x)(),this.httpClient.get("https://ipapi.co/json/").pipe(Z())}static#t=this.\u0275fac=function(r){return new(r||d)(a.LFG(h.eN))};static#e=this.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},5663:(S,C,u)=>{u.r(C),u.d(C,{AttributeModule:()=>L});var h=u(6814),t=u(5879),f=u(7285),v=u(1076),y=u(8672),U=u(2425),x=u(3665),Z=u(7741),a=u(95),F=u(7157);function d(o,b){if(1&o&&(t.ynx(0),t._UZ(1,"i",35),t._uU(2),t.BQk()),2&o){const e=b.$implicit,n=b.index,i=t.oxw(2).$implicit;t.xp6(1),t.Udp("color",e),t.xp6(1),t.hij(" ",n<i.value.length-1?"|":""," ")}}function c(o,b){if(1&o&&(t.ynx(0),t.YNc(1,d,3,3,"ng-container",24),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.value)}}function s(o,b){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"join"),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.value,"value")||"-"," ")}}function r(o,b){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"join"),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.value,"value")||"-"," ")}}function p(o,b){if(1&o){const e=t.EpF();t.TgZ(0,"div",36)(1,"button",37),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.KtG(l.dismiss("Cross click"))}),t.qZA()(),t.TgZ(2,"div",38)(3,"h4",39),t._uU(4," Are you sure you want to Delete ? "),t.qZA()(),t.TgZ(5,"div",40)(6,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.delete(i.selectedRow))}),t._uU(7," YES "),t.qZA(),t.TgZ(8,"button",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.KtG(l.dismiss("Cross click"))}),t._uU(9," NO "),t.qZA()()}}function g(o,b){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",26),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",26),t.YNc(6,c,2,1,"ng-container",28),t.YNc(7,s,3,4,"ng-container",28),t.YNc(8,r,3,4,"ng-container",28),t.qZA(),t.TgZ(9,"td",29)(10,"span"),t._uU(11),t.ALo(12,"titlecase"),t.qZA()(),t.TgZ(13,"td",29)(14,"button",30),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.update(l))}),t._UZ(15,"i",31),t.qZA(),t.TgZ(16,"button",32),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.MAs(19),w=t.oxw();return t.KtG(w.open(l.id,m))}),t._UZ(17,"i",33),t.qZA()(),t.YNc(18,p,10,0,"ng-template",null,34,t.W1O),t.qZA()}if(2&o){const e=b.$implicit,n=b.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Q6J("ngIf","color"==e.type),t.xp6(1),t.Q6J("ngIf","text"==e.type),t.xp6(1),t.Q6J("ngIf","number"==e.type),t.xp6(2),t.Gre("badge rounded-pill  text-bg-","active"==e.status?"success":"danger"," px-2"),t.xp6(1),t.hij(" ",t.lcZ(12,9,e.status),"")}}let _=(()=>{class o{constructor(e,n,i,l){this.router=e,this.spinner=n,this.toastService=i,this.attributeService=l,this.modalService=(0,t.f3M)(f.FF),this.page=1,this.pageSize=25,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.attribute=[],this.allData=[]}ngOnInit(){this.getAll()}add(){this.router.navigate(["/default/attribute/attribute-form"])}update(e){this.router.navigate(["/default/attribute/attribute-form"],{queryParams:{id:e.id}})}onChangePage(e){e>0&&(this.page=e),this.getAll()}open(e,n){this.selectedRow=e,this.modalService.open(n,{centered:!0})}searchFn(){(this.search.toString().length>=3||0==this.search.toString().length)&&this.getAll()}getAll(){this.spinner.show(),this.attributeService.getAll({page:this.page,pageSize:this.pageSize,search:this.search}).subscribe(n=>{this.spinner.hide(),this.allData=n.rows,this.collection=n.count})}delete(e){this.spinner.show(),this.attributeService.delete(e).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.modalService.dismissAll(),this.getAll()})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(v.F0),t.Y36(y.t2),t.Y36(U._W),t.Y36(x.c))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-attibute-list"]],decls:36,vars:5,consts:[[1,"table-container"],[1,"card","table-card"],[1,"card-title"],[1,"card-header"],[1,"row","justify-content-between"],[1,"col-4"],[1,"input-icons"],[1,"input-group","input-group-sm"],["type","search","aria-label","Small","placeholder","Search","aria-describedby","inputGroup-sizing-sm",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"input-group-append"],["id","inputGroup-sizing-sm",1,"input-group-text","h-100"],[1,"ti","ti-search"],[1,"col-md-4","col-3","text-right"],[1,"btn","add-btn",3,"click"],[1,"ti","ti-plus","me-1"],[1,"card-body","p-3"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead"],[1,"table-secondary"],["scope","col"],["scope","col",1,"text-start"],["scope","col",1,"mx-auto","text-center"],[1,"tbody","mt-3"],[4,"ngFor","ngForOf"],[3,"page","pageSize","collection","pageChange","pageSizeChange","collectionChange","myOutput"],["scope","row"],["scope","row",1,"text-start"],[4,"ngIf"],["scope","row",1,"text-center"],["ngbTooltip","Edit",1,"btn","btn-sm","action-btn","mx-2",3,"click"],[1,"ti","ti-edit-circle"],["ngbTooltip","Delete",1,"btn","btn-sm","action-btn",3,"click"],[1,"ti","ti-trash"],["deleteModal",""],[1,"fa-solid","fa-square","mx-1"],[1,"modal-header","border-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","border-0"],["id","modal-basic-title",1,"modal-title","text-center"],[1,"modal-footer","justify-content-center","border-0"],["type","button",1,"btn","px-4","btn-outline-danger",3,"click"],["type","button",1,"btn","px-4","btn-outline-primary",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Attribute List"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),t.NdJ("ngModelChange",function(m){return i.search=m})("input",function(){return i.searchFn()}),t.qZA(),t.TgZ(11,"div",9)(12,"span",10),t._UZ(13,"i",11),t.qZA()()()()(),t.TgZ(14,"div",12)(15,"button",13),t.NdJ("click",function(){return i.add()}),t._UZ(16,"i",14),t._uU(17," Add Attribute "),t.qZA()()()(),t.TgZ(18,"div",15)(19,"div",16)(20,"table",17)(21,"thead",18)(22,"tr",19)(23,"th",20),t._uU(24,"Sr. No."),t.qZA(),t.TgZ(25,"th",21),t._uU(26,"Name"),t.qZA(),t.TgZ(27,"th",20),t._uU(28,"Value"),t.qZA(),t.TgZ(29,"th",20),t._uU(30,"Status"),t.qZA(),t.TgZ(31,"th",22),t._uU(32,"Action"),t.qZA()()(),t.TgZ(33,"tbody",23),t.YNc(34,g,20,11,"tr",24),t.qZA()()(),t.TgZ(35,"app-custom-pagination",25),t.NdJ("pageChange",function(m){return i.page=m})("pageSizeChange",function(m){return i.pageSize=m})("collectionChange",function(m){return i.collection=m})("myOutput",function(){return i.onChangePage(i.page)}),t.qZA()()()()),2&n&&(t.xp6(10),t.Q6J("ngModel",i.search),t.xp6(24),t.Q6J("ngForOf",i.allData),t.xp6(1),t.Q6J("page",i.page)("pageSize",i.pageSize)("collection",i.collection))},dependencies:[h.sg,h.O5,Z.W,a.Fj,a.JJ,a.On,f._L,h.rS,F.A]})}return o})();var T=u(485),A=u(4087);function N(o,b){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.removeValue(i))}),t._UZ(1,"i",34),t.qZA()}}function k(o,b){if(1&o&&(t.TgZ(0,"div",29)(1,"div",30),t._UZ(2,"input",31),t.YNc(3,N,2,0,"button",32),t.qZA()()),2&o){const e=b.index,n=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(1),t.Q6J("type",n.type),t.xp6(1),t.Q6J("ngIf",n.attributeValues.controls.length>1)}}let J=(()=>{class o{constructor(e,n,i,l,m,w){this.router=e,this.activated=n,this.toastService=i,this.spinner=l,this.attributeService=m,this.fb=w,this.attributeForm=this.fb.group({id:new a.NI(null),name:new a.NI(null,[a.kI.required]),type:new a.NI(null),value:this.fb.array([]),status:new a.NI("active",[a.kI.required])}),this.options=[],this.attributeId=null}get f(){return this.attributeForm.controls}get attributeValues(){return this.attributeForm.get("value")}ngOnInit(){this.activated.queryParams.subscribe(e=>{e.id?(this.getDataById(e.id),this.attributeId=e.id):this.addValue()})}newValue(e=""){return this.fb.group({value:["",a.kI.required]})}addValue(e=""){this.attributeValues.push(this.newValue(e))}removeValue(e){this.attributeValues.removeAt(e)}submit(){console.log(this.attributeForm.value);let e=this.attributeForm.value;this.attributeForm.value.id?this.update(this.attributeForm.value.id,e):(delete e.id,this.create(e))}create(e){this.spinner.show(),this.attributeService.create(e).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.router.navigate(["default/attribute/attribute-list"])})}update(e,n){this.spinner.show(),this.attributeService.update(e,n).subscribe(i=>{this.spinner.hide(),this.toastService.success(i.message),this.router.navigate(["default/attribute/attribute-list"])})}getDataById(e){this.spinner.show(),this.attributeService.getById(e).subscribe(n=>{if(n.value)for(const i of n?.value)this.addValue(i.value);else this.addValue();this.attributeForm.patchValue(n),this.spinner.hide()})}handleTypeChange(e){this.type=e.target.value}back(){this.router.navigate(["default/attribute/attribute-list"])}reset(){this.attributeForm.reset(),this.attributeId&&this.getDataById(this.attributeId)}openUrl(e){window.open(e,"_blank")}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(v.F0),t.Y36(v.gz),t.Y36(T.k),t.Y36(A.V),t.Y36(x.c),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-attibute-form"]],decls:52,vars:11,consts:[[1,"card","form-card"],[1,"card-header"],[1,"card-header-items"],[1,"back-btn","btn","btn-primary",3,"click"],[1,"ti","ti-arrow-left","me-1"],[1,"card-body","justify-content-center"],[3,"formGroup"],[1,"row"],[1,"col-md-4","mb-2"],[1,"form-label"],[1,"text-danger"],["formControlName","name","placeholder","name","type","text",1,"form-control"],[1,"col-md-3","mb-2"],["formControlName","type",1,"form-select",3,"change"],["disabled","","value","",3,"selected"],["value","text"],["value","number"],["value","color"],["formArrayName","value"],["class","mb-2",4,"ngFor","ngForOf"],[1,"col-md-1","mt-4"],[1,"btn","px-2","mt-1","btn-warning","shadow","rounded","rounded-3","d-flex","align-items-center",3,"click"],[1,"fa-solid"],[1,"col-12"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","px-5","btn-primary","mx-2","shadow","rounded","rounded-3","d-flex","align-items-center",3,"click"],[1,"fa-solid","fa-arrows-rotate","me-2"],["type","submit",1,"btn","px-5","btn-success","shadow","rounded","rounded-3","mx-2","d-flex","align-items-center",3,"click"],[1,"fa-solid","me-2"],[1,"mb-2"],[1,"d-flex",3,"formGroupName"],["formControlName","value","required","",1,"form-control",3,"type"],["class","btn px-2 ms-2 btn-danger shadow rounded rounded-3 d-flex align-items-center",3,"click",4,"ngIf"],[1,"btn","px-2","ms-2","btn-danger","shadow","rounded","rounded-3","d-flex","align-items-center",3,"click"],[1,"ti","ti-trash"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"a",3),t.NdJ("click",function(){return i.back()}),t._UZ(7,"i",4),t._uU(8," Back"),t.qZA()()()(),t.TgZ(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"label",9),t._uU(14," Name "),t.TgZ(15,"span",10),t._uU(16,"*"),t.qZA()(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"div",12)(19,"label",9),t._uU(20," Type "),t.TgZ(21,"span",10),t._uU(22,"*"),t.qZA()(),t.TgZ(23,"select",13),t.NdJ("change",function(m){return i.handleTypeChange(m)}),t.TgZ(24,"option",14),t._uU(25,"Select Type"),t.qZA(),t.TgZ(26,"option",15),t._uU(27,"Text"),t.qZA(),t.TgZ(28,"option",16),t._uU(29,"Number"),t.qZA(),t.TgZ(30,"option",17),t._uU(31,"Color"),t.qZA()()(),t.TgZ(32,"div",8)(33,"label",9),t._uU(34," Value "),t.TgZ(35,"span",10),t._uU(36,"*"),t.qZA()(),t.TgZ(37,"div",18),t.YNc(38,k,4,3,"div",19),t.qZA()(),t.TgZ(39,"div",20)(40,"button",21),t.NdJ("click",function(){return i.addValue()}),t._UZ(41,"i",22),t.qZA()()(),t._UZ(42,"hr"),t.TgZ(43,"div",7)(44,"div",23)(45,"div",24)(46,"button",25),t.NdJ("click",function(){return i.reset()}),t._UZ(47,"i",26),t._uU(48," Reset "),t.qZA(),t.TgZ(49,"button",27),t.NdJ("click",function(){return i.submit()}),t._UZ(50,"i",28),t._uU(51),t.qZA()()()()()()()),2&n&&(t.xp6(4),t.hij("",i.attributeForm.value.id?"Update":"Create"," Attribute"),t.xp6(6),t.Q6J("formGroup",i.attributeForm),t.xp6(14),t.Q6J("selected",!0),t.xp6(14),t.Q6J("ngForOf",i.attributeValues.controls),t.xp6(3),t.Tol(i.attributeForm.value.id?"fa-pen-to-square":"fa-plus"),t.xp6(8),t.Tol(i.attributeForm.value.id?"btn-warning":"btn-success"),t.xp6(1),t.Tol(i.attributeForm.value.id?"fa-pen-to-square":"fa-plus"),t.xp6(1),t.hij(" ",i.attributeForm.value.id?"Update":"Create"," "))},dependencies:[h.sg,h.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE]})}return o})();var I=u(4086);const q=[{path:"",redirectTo:"attribute-list",pathMatch:"full"},{path:"attribute-form",component:J},{path:"attribute-list",component:_}];let L=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[h.ez,Z.W,I.m,v.Bz.forChild(q)]})}return o})()}}]);