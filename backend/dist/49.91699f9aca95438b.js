"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[49],{4495:(F,Z,p)=>{p.d(Z,{s:()=>S});var f=p(9862),a=p(3997),t=p(7398),_=p(8645),T=p(4552);class x extends _.x{constructor(c=1/0,r=1/0,s=T.l){super(),this._bufferSize=c,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,c),this._windowTime=Math.max(1,r)}next(c){const{isStopped:r,_buffer:s,_infiniteTimeWindow:d,_timestampProvider:h,_windowTime:m}=this;r||(s.push(c),!d&&s.push(h.now()+m)),this._trimBuffer(),super.next(c)}_subscribe(c){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(c),{_infiniteTimeWindow:s,_buffer:d}=this,h=d.slice();for(let m=0;m<h.length&&!c.closed;m+=s?1:2)c.next(h[m]);return this._checkFinalizedStatuses(c),r}_trimBuffer(){const{_bufferSize:c,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:d}=this,h=(d?1:2)*c;if(c<1/0&&h<s.length&&s.splice(0,s.length-h),!d){const m=r.now();let C=0;for(let v=1;v<s.length&&s[v]<=m;v+=2)C=v;C&&s.splice(0,C+1)}}}var y=p(3020);function b(u,c,r){let s,d=!1;return u&&"object"==typeof u?({bufferSize:s=1/0,windowTime:c=1/0,refCount:d=!1,scheduler:r}=u):s=u??1/0,(0,y.B)({connector:()=>new x(s,c,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}var A=p(5879);let S=(()=>{class u{constructor(r){this.httpClient=r,this.options={headers:(new f.WM).set("Content-Type","application/json")}}private(){return`${location.protocol}//${location.hostname+(location.port?":"+location.port:"")}/`}get(r,s=new f.LE){return(0,a.x)(),this.httpClient.get(r,{params:s}).pipe((0,t.U)(d=>d.result),b())}put(r,s={}){return(0,a.x)(),this.httpClient.put(r,s).pipe((0,t.U)(d=>d.result))}post(r,s={}){return(0,a.x)(),this.httpClient.post(r,s).pipe((0,t.U)(d=>d.result))}delete(r){return(0,a.x)(),this.httpClient.delete(r).pipe((0,t.U)(s=>s.result),b())}getFile(r,s=new f.LE){return this.httpClient.get(r,{responseType:"blob",headers:(new f.WM).append("Content-Type","application/json")})}getIp(){return(0,a.x)(),this.httpClient.get("https://ipapi.co/json/").pipe(b())}static#t=this.\u0275fac=function(s){return new(s||u)(A.LFG(f.eN))};static#e=this.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},2049:(F,Z,p)=>{p.r(Z),p.d(Z,{TagModule:()=>k});var f=p(6814),a=p(95),t=p(5879),_=p(1076),T=p(7398),x=p(4495);let y=(()=>{class l{constructor(e){this.http=e,this.routes={createPath:"tag",getAllPath:"tag",updatePath:i=>`tag/${i}`,deletePath:i=>`tag/${i}`,getByIdPath:i=>`tag/${i}`}}getAllTag(e){return this.http.get(this.routes.getAllPath,e)}createTag(e){return this.http.post(this.routes.createPath,e).pipe((0,T.U)(i=>i))}updateTagById(e,i){return console.log("payload",i),this.http.put(this.routes.updatePath(e),i).pipe((0,T.U)(n=>n))}deleteTagById(e){return this.http.delete(this.routes.deletePath(e)).pipe((0,T.U)(i=>i))}getbyId(e){return this.http.get(this.routes.getByIdPath(e)).pipe((0,T.U)(i=>i))}static#t=this.\u0275fac=function(i){return new(i||l)(t.LFG(x.s))};static#e=this.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var b=p(485),A=p(4087),S=p(6857),u=p(6593);function c(l,U){if(1&l){const e=t.EpF();t.TgZ(0,"span",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openUrl(n.url))}),t._UZ(1,"i",30),t.qZA()}}let r=(()=>{class l{constructor(e,i,n,o,g,I,N){this.router=e,this.activated=i,this.tagService=n,this.toastService=o,this.spinner=g,this.validationService=I,this.domSanitizer=N,this.submitted=!1,this.tagId=null,this.fileName="",this.url=null,this.file=null,this.FORM_ERRORS=[{message:"Title is required",key:"title"},{message:"Status is required",key:"status"}],this.tagForm=new a.cw({id:new a.NI(null),title:new a.NI("",[a.kI.required]),tag:new a.NI(""),status:new a.NI("active",[a.kI.required])})}ngOnInit(){this.activated.queryParams.subscribe(e=>{e.id&&(this.getdataById(e.id),this.tagId=e.id)})}navigateTo(e){this.router.navigate([e])}reset(){this.tagForm.reset(),this.tagId&&this.getdataById(this.tagId)}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.tagForm,this.FORM_ERRORS))return;let e=this.tagForm.value,i=new FormData;i.append("key","tag"),i.append("title",e.title),i.append("status",e.status),this.file&&i.append("file",this.file),e.id?this.update(e.id,i):this.create(i)}update(e,i){console.log("id",e),console.log("formData",i),this.spinner.show(),this.tagService.updateTagById(e,i).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.router.navigate(["default/tag/tag-list"])})}getdataById(e){this.spinner.show(),this.tagService.getbyId(e).subscribe(i=>{this.url=i.image,this.tagForm.patchValue(i),this.spinner.hide()})}create(e){this.spinner.show(),this.tagService.createTag(e).subscribe(i=>{this.spinner.hide(),this.toastService.success(i.message),this.router.navigate(["default/tag/tag-list"])})}openUrl(e){window.open(e,"_blank")}fileChosen(e){if(e.target.files.length){if(e.target.files[0].size>2e6)return void this.toastService.warning("Unable to upload file of size more than 1MB");this.file=e.target.files[0],this.fileName=this.file.name;const n=new FileReader;n.readAsDataURL(this.file),n.onload=()=>{this.url=this.domSanitizer.bypassSecurityTrustUrl(n.result)},n.onerror=o=>{console.error(o)}}}back(){this.router.navigate(["default/tag/tag-list"])}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(_.F0),t.Y36(_.gz),t.Y36(y),t.Y36(b.k),t.Y36(A.V),t.Y36(S.R),t.Y36(u.H7))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-tag-form"]],decls:53,vars:8,consts:[[1,"container-fluid"],[1,"row","my-4"],[1,"col-12"],[1,"d-flex","justify-content-center"],[1,"card","form-card"],[1,"card-header"],[1,"card-header-items"],[1,"ms-2"],[1,"back-btn","btn","btn-primary",3,"click"],[1,"ti","ti-arrow-left","me-1"],[1,"card-body","p-2"],[3,"formGroup"],[1,"row"],[1,"col-md-6","mb-2"],[1,"form-label"],[1,"text-danger"],["formControlName","title","placeholder","Title","type","text",1,"form-control"],[1,"col-md-6","mb-2","position-relative"],[1,"input-group"],["formControlName","tag","placeholder","image","type","file","accept",".png,.jpeg,.jpg,.pdf,.svg,.gif",1,"form-control",3,"change"],[1,"input-group-append"],["class","input-group-text h-100","id","inputGroup-sizing-sm",3,"click",4,"ngIf"],["formControlName","status",1,"form-control"],["value","active"],["value","inactive"],["type","submit",1,"btn","px-5","btn-primary","mx-2","shadow","rounded","rounded-3","d-flex","align-items-center",3,"click"],[1,"fa-solid","fa-arrows-rotate","me-2"],["type","submit",1,"btn","px-5","btn-success","shadow","rounded","rounded-3","mx-2","d-flex","align-items-center",3,"click"],[1,"fa-solid","me-2"],["id","inputGroup-sizing-sm",1,"input-group-text","h-100",3,"click"],[1,"fa","fa-eye"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div")(10,"a",8),t.NdJ("click",function(){return n.navigateTo("/default/tag/tag-list")}),t._UZ(11,"i",9),t._uU(12," Back"),t.qZA()()()(),t.TgZ(13,"div",10)(14,"form",11)(15,"div",12)(16,"div",13)(17,"label",14),t._uU(18,"Title "),t.TgZ(19,"span",15),t._uU(20,"*"),t.qZA()(),t._UZ(21,"input",16)(22,"div"),t.qZA(),t.TgZ(23,"div",17)(24,"label",14),t._uU(25,"Image"),t.TgZ(26,"span",15),t._uU(27,"*"),t.qZA()(),t.TgZ(28,"div",18)(29,"input",19),t.NdJ("change",function(g){return n.fileChosen(g)}),t.qZA(),t.TgZ(30,"div",20),t.YNc(31,c,2,0,"span",21),t.qZA()(),t._UZ(32,"div"),t.qZA(),t.TgZ(33,"div",13)(34,"label",14),t._uU(35,"Status"),t.TgZ(36,"span",15),t._uU(37,"*"),t.qZA()(),t.TgZ(38,"select",22)(39,"option",23),t._uU(40,"Active"),t.qZA(),t.TgZ(41,"option",24),t._uU(42,"InActive"),t.qZA()(),t._UZ(43,"div"),t.qZA()(),t.TgZ(44,"div",12)(45,"div",2)(46,"div",3)(47,"button",25),t.NdJ("click",function(){return n.reset()}),t._UZ(48,"i",26),t._uU(49," Reset "),t.qZA(),t.TgZ(50,"button",27),t.NdJ("click",function(){return n.submit()}),t._UZ(51,"i",28),t._uU(52),t.qZA()()()()()()()()()()()),2&i&&(t.xp6(8),t.hij("",n.tagId?"Update":"Create"," Tag"),t.xp6(6),t.Q6J("formGroup",n.tagForm),t.xp6(17),t.Q6J("ngIf",n.url),t.xp6(19),t.Tol(n.tagId?"btn-warning":"btn-success"),t.xp6(1),t.Tol(n.tagId?"fa-pen-to-square":"fa-plus"),t.xp6(1),t.hij(" ",n.tagId?"Update":"Create"," "))},dependencies:[f.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u],styles:[".pt-3[_ngcontent-%COMP%]{padding-top:3rem!important}"]})}return l})();var s=p(7285),d=p(8672),h=p(2425),m=p(7741);function C(l,U){if(1&l){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t.qZA()(),t.TgZ(2,"div",34)(3,"h4",35),t._uU(4," Are you sure you want to Delete ? "),t.qZA()(),t.TgZ(5,"div",36)(6,"button",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,o=t.oxw();return t.KtG(o.delete(n.id))}),t._uU(7," YES "),t.qZA(),t.TgZ(8,"button",38),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t._uU(9," NO "),t.qZA()()}}function v(l,U){if(1&l){const e=t.EpF();t.TgZ(0,"tr")(1,"td",25),t._uU(2),t.qZA(),t.TgZ(3,"td",25),t._uU(4),t.qZA(),t.TgZ(5,"td",26)(6,"button",27),t.NdJ("click",function(){const o=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.updateTag(o))}),t._UZ(7,"i",28),t.qZA(),t.TgZ(8,"button",29),t.NdJ("click",function(){const o=t.CHM(e).$implicit,g=t.MAs(11),I=t.oxw();return t.KtG(I.open(o.id,g))}),t._UZ(9,"i",30),t.qZA()(),t.YNc(10,C,10,0,"ng-template",null,31,t.W1O),t.qZA()}if(2&l){const e=U.$implicit,i=U.index,n=t.oxw();t.xp6(2),t.Oqu(n.pageSize*(n.page-1)+(i+1)),t.xp6(2),t.Oqu(e.title)}}const w=[{path:"",redirectTo:"tag-list",pathMatch:"full"},{path:"tag-form",component:r},{path:"tag-list",component:(()=>{class l{constructor(e,i,n,o){this.router=e,this.tagservice=i,this.spinner=n,this.toastService=o,this.modalService=(0,t.f3M)(s.FF),this.page=1,this.pageSize=25,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.Tag=[]}ngOnInit(){this.getAll()}add(){this.router.navigate(["/default/tag/tag-form"])}updateTag(e){this.router.navigate(["/default/tag/tag-form"],{queryParams:{id:e.id}})}onChangePage(e){e>0&&(this.page=e),this.getAll()}open(e,i){this.selectedRow=e,this.modalService.open(i,{centered:!0})}searchFn(){(this.search.toString().length>=3||0==this.search.toString().length)&&this.getAll()}getAll(){this.spinner.show(),this.tagservice.getAllTag({page:this.page,pageSize:this.pageSize,search:this.search}).subscribe(i=>{console.log("success",i),this.spinner.hide(),this.Tag=i,this.collection=i.length})}delete(e){this.spinner.show(),this.tagservice.deleteTagById(e).subscribe(i=>{this.spinner.hide(),this.toastService.success(i.message),this.modalService.dismissAll(),this.getAll()})}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(_.F0),t.Y36(y),t.Y36(d.t2),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-tag-list"]],decls:32,vars:5,consts:[[1,"table-container"],[1,"card","table-card"],[1,"card-title"],[1,"card-header"],[1,"row","justify-content-between"],[1,"col-4"],[1,"input-icons"],[1,"input-group","input-group-sm"],["type","search","aria-label","Small","placeholder","Search","aria-describedby","inputGroup-sizing-sm",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"input-group-append"],["id","inputGroup-sizing-sm",1,"input-group-text","h-100"],[1,"ti","ti-search"],[1,"col-md-4","col-3","text-right"],[1,"btn","add-btn",3,"click"],[1,"ti","ti-plus","me-1"],[1,"card-body","p-4"],[1,"table-responsive"],[1,"table","table-hover"],[1,"thead"],[1,"table-secondary"],["scope","col"],["scope","col",1,"mx-auto","text-center"],[1,"tbody","mt-3"],[4,"ngFor","ngForOf"],[3,"page","pageSize","collection","pageChange","pageSizeChange","collectionChange","myOutput"],["scope","row"],["scope","row",1,"text-center"],["ngbTooltip","Update",1,"btn","btn-sm","action-btn","mx-2",3,"click"],[1,"ti","ti-edit-circle"],["ngbTooltip","Delete",1,"btn","btn-sm","action-btn",3,"click"],[1,"ti","ti-trash"],["deleteModal",""],[1,"modal-header","border-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","border-0"],["id","modal-basic-title",1,"modal-title","text-center"],[1,"modal-footer","justify-content-center","border-0"],["type","button",1,"btn","px-4","btn-outline-danger",3,"click"],["type","button",1,"btn","px-4","btn-outline-primary",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Tag List"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),t.NdJ("ngModelChange",function(g){return n.search=g})("input",function(){return n.searchFn()}),t.qZA(),t.TgZ(11,"div",9)(12,"span",10),t._UZ(13,"i",11),t.qZA()()()()(),t.TgZ(14,"div",12)(15,"button",13),t.NdJ("click",function(){return n.add()}),t._UZ(16,"i",14),t._uU(17," Add Tag "),t.qZA()()()(),t.TgZ(18,"div",15)(19,"div",16)(20,"table",17)(21,"thead",18)(22,"tr",19)(23,"th",20),t._uU(24,"Sr. No."),t.qZA(),t.TgZ(25,"th",20),t._uU(26,"Title"),t.qZA(),t.TgZ(27,"th",21),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody",22),t.YNc(30,v,12,2,"tr",23),t.qZA()()(),t.TgZ(31,"app-custom-pagination",24),t.NdJ("pageChange",function(g){return n.page=g})("pageSizeChange",function(g){return n.pageSize=g})("collectionChange",function(g){return n.collection=g})("myOutput",function(){return n.onChangePage(n.page)}),t.qZA()()()()),2&i&&(t.xp6(10),t.Q6J("ngModel",n.search),t.xp6(20),t.Q6J("ngForOf",n.Tag),t.xp6(1),t.Q6J("page",n.page)("pageSize",n.pageSize)("collection",n.collection))},dependencies:[f.sg,a.Fj,a.JJ,a.On,m.W,s._L]})}return l})()}];let k=(()=>{class l{static#t=this.\u0275fac=function(i){return new(i||l)};static#e=this.\u0275mod=t.oAB({type:l});static#i=this.\u0275inj=t.cJS({imports:[f.ez,_.Bz.forChild(w),a.u5,a.UX,h.Rh,d.ef,m.W,s.HK]})}return l})()}}]);