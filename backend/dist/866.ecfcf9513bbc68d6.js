"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[866],{4495:(I,C,a)=>{a.d(C,{s:()=>d});var u=a(9862),t=a(3997),g=a(7398),y=a(8645),Z=a(4552);class A extends y.x{constructor(p=1/0,s=1/0,i=Z.l){super(),this._bufferSize=p,this._windowTime=s,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,p),this._windowTime=Math.max(1,s)}next(p){const{isStopped:s,_buffer:i,_infiniteTimeWindow:l,_timestampProvider:o,_windowTime:c}=this;s||(i.push(p),!l&&i.push(o.now()+c)),this._trimBuffer(),super.next(p)}_subscribe(p){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(p),{_infiniteTimeWindow:i,_buffer:l}=this,o=l.slice();for(let c=0;c<o.length&&!p.closed;c+=i?1:2)p.next(o[c]);return this._checkFinalizedStatuses(p),s}_trimBuffer(){const{_bufferSize:p,_timestampProvider:s,_buffer:i,_infiniteTimeWindow:l}=this,o=(l?1:2)*p;if(p<1/0&&o<i.length&&i.splice(0,i.length-o),!l){const c=s.now();let e=0;for(let n=1;n<i.length&&i[n]<=c;n+=2)e=n;e&&i.splice(0,e+1)}}}var v=a(3020);function T(h,p,s){let i,l=!1;return h&&"object"==typeof h?({bufferSize:i=1/0,windowTime:p=1/0,refCount:l=!1,scheduler:s}=h):i=h??1/0,(0,v.B)({connector:()=>new A(i,p,s),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var S=a(5879);let d=(()=>{class h{constructor(s){this.httpClient=s,this.options={headers:(new u.WM).set("Content-Type","application/json")}}private(){return`${location.protocol}//${location.hostname+(location.port?":"+location.port:"")}/`}get(s,i=new u.LE){return(0,t.x)(),this.httpClient.get(s,{params:i}).pipe((0,g.U)(l=>l.result),T())}put(s,i={}){return(0,t.x)(),this.httpClient.put(s,i).pipe((0,g.U)(l=>l.result))}post(s,i={}){return(0,t.x)(),this.httpClient.post(s,i).pipe((0,g.U)(l=>l.result))}delete(s){return(0,t.x)(),this.httpClient.delete(s).pipe((0,g.U)(i=>i.result),T())}getFile(s,i=new u.LE){return this.httpClient.get(s,{responseType:"blob",headers:(new u.WM).append("Content-Type","application/json")})}getIp(){return(0,t.x)(),this.httpClient.get("https://ipapi.co/json/").pipe(T())}static#t=this.\u0275fac=function(i){return new(i||h)(S.LFG(u.eN))};static#e=this.\u0275prov=S.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},1866:(I,C,a)=>{a.r(C),a.d(C,{TransactionModule:()=>l});var u=a(6814),t=a(5879),g=a(7285),y=a(1076),Z=a(8672),A=a(2425),v=a(7398),T=a(4495);let S=(()=>{class o{constructor(e){this.http=e,this.routes={createPath:"transactions",getAllPath:"transactions",updatePath:n=>`transactions/${n}`,deletePath:n=>`transactions/${n}`,getByIdPath:n=>`transactions/${n}`}}getAll(e){return this.http.get(this.routes.getAllPath,e)}create(e){return this.http.post(this.routes.createPath,e).pipe((0,v.U)(n=>n))}updateById(e,n){return console.log("payload",n),this.http.put(this.routes.updatePath(e),n).pipe((0,v.U)(r=>r))}deleteById(e){return this.http.delete(this.routes.deletePath(e)).pipe((0,v.U)(n=>n))}getbyId(e){return this.http.get(this.routes.getByIdPath(e)).pipe((0,v.U)(n=>n))}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(T.s))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var d=a(95),h=a(7741);function p(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",21),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA()()),2&o){const e=c.$implicit,n=c.index,r=t.oxw();t.xp6(2),t.Oqu(r.pageSize*(r.page-1)+(n+1)),t.xp6(2),t.Oqu((null==e||null==e.transactionWithCustomer?null:e.transactionWithCustomer.firstName)+" "+(null==e||null==e.transactionWithCustomer?null:e.transactionWithCustomer.lastName)),t.xp6(2),t.Oqu(t.xi3(7,4,null==e?null:e.amount,"INR")),t.xp6(3),t.Oqu(null==e?null:e.transId)}}const i=[{path:"",redirectTo:"trans-list",pathMatch:"full"},{path:"trans-list",component:(()=>{class o{constructor(e,n,r,m){this.router=e,this.spinner=n,this.toastService=r,this.transService=m,this.modalService=(0,t.f3M)(g.FF),this.page=1,this.pageSize=25,this.collection=0,this.column="createdAt",this.direction=-1,this.search=""}ngOnInit(){this.getAll()}onChangePage(e){e>0&&(this.page=e),this.getAll()}open(e,n){this.selectedRow=e,this.modalService.open(n,{centered:!0})}searchFn(){(this.search.toString().length>=3||0==this.search.toString().length)&&this.getAll()}getAll(){this.spinner.show(),this.transService.getAll({page:this.page,pageSize:this.pageSize,search:this.search}).subscribe(n=>{console.log("success",n),this.spinner.hide(),this.transactions=n,this.collection=n.length})}navigateTo(e){this.router.navigate([e])}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(y.F0),t.Y36(Z.t2),t.Y36(A._W),t.Y36(S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-transaction-list"]],decls:30,vars:5,consts:[[1,"table-container"],[1,"card","table-card"],[1,"card-title"],[1,"card-header"],[1,"row","justify-content-between"],[1,"col-4"],[1,"input-icons"],[1,"input-group","input-group-sm"],["type","search","aria-label","Small","placeholder","Search","aria-describedby","inputGroup-sizing-sm",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"input-group-append"],["id","inputGroup-sizing-sm",1,"input-group-text","h-100"],[1,"ti","ti-search"],[1,"card-body","p-4"],[1,"table-responsive"],[1,"table","table-hover"],[1,"thead"],[1,"table-secondary"],["scope","col"],[1,"tbody","mt-3"],[4,"ngFor","ngForOf"],[3,"page","pageSize","collection","pageChange","pageSizeChange","collectionChange","myOutput"],["scope","row"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Transactions List"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),t.NdJ("ngModelChange",function(f){return r.search=f})("input",function(){return r.searchFn()}),t.qZA(),t.TgZ(11,"div",9)(12,"span",10),t._UZ(13,"i",11),t.qZA()()()()()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"table",14)(17,"thead",15)(18,"tr",16)(19,"th",17),t._uU(20,"Sr. No."),t.qZA(),t.TgZ(21,"th",17),t._uU(22,"customer"),t.qZA(),t.TgZ(23,"th",17),t._uU(24,"Amount"),t.qZA(),t.TgZ(25,"th",17),t._uU(26,"Transaction Id"),t.qZA()()(),t.TgZ(27,"tbody",18),t.YNc(28,p,10,7,"tr",19),t.qZA()()(),t.TgZ(29,"app-custom-pagination",20),t.NdJ("pageChange",function(f){return r.page=f})("pageSizeChange",function(f){return r.pageSize=f})("collectionChange",function(f){return r.collection=f})("myOutput",function(){return r.onChangePage(r.page)}),t.qZA()()()()),2&n&&(t.xp6(10),t.Q6J("ngModel",r.search),t.xp6(18),t.Q6J("ngForOf",r.transactions),t.xp6(1),t.Q6J("page",r.page)("pageSize",r.pageSize)("collection",r.collection))},dependencies:[u.sg,d.Fj,d.JJ,d.On,h.W,u.H9]})}return o})()}];let l=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[u.ez,y.Bz.forChild(i),d.u5,d.UX,A.Rh,Z.ef,h.W,g.HK]})}return o})()}}]);